---
title: passå¯†ç ç®¡ç†æœ¬ä¸å¤æ‚
description: ''
date: 'Mon Jan 15 2024 05:25:07 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
dateFormatted: 'Mon Jan 15 2024 05:25:07 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
layout: ../../layouts/post.astro
---
# Password Store ä½¿ç”¨æŒ‡å—

## ç›®å½•

- [Password Store ç®€ä»‹](#password-store-ç®€ä»‹)
- [å®‰è£…](#å®‰è£…)
  - [GPG å®‰è£…ä¸é…ç½®](#gpg-å®‰è£…ä¸é…ç½®)
  - [Password Store å®‰è£…](#password-store-å®‰è£…)
- [GPG å¯†é’¥ç”Ÿæˆ](#gpg-å¯†é’¥ç”Ÿæˆ)
- [GPG å¯†é’¥å¯¼å‡º](#gpg-å¯†é’¥å¯¼å‡º)
- [ä½¿ç”¨](#ä½¿ç”¨)
- [åŒæ­¥](#åŒæ­¥)
- [æ’ä»¶](#æ’ä»¶)
- [ç»“è¯­](#ç»“è¯­)

## Password Store ç®€ä»‹

Password Store æ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„å¯†ç ç®¡ç†å™¨ï¼Œå®ƒä½¿ç”¨ GPG åŠ å¯†å’Œ Git åŒæ­¥æ¥å­˜å‚¨å’Œç®¡ç†å¯†ç ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- ä½¿ç”¨æ ‡å‡†çš„ Unix å·¥å…·ï¼Œæ— å¤æ‚ä¾èµ–
- ä½¿ç”¨ç®€å•çš„æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ï¼Œæ–¹ä¾¿æµè§ˆå’Œæœç´¢
- ä½¿ç”¨ GPG åŠ å¯†ï¼Œä¿è¯å¯†ç å®‰å…¨æ€§
- ä½¿ç”¨ Git åŒæ­¥ï¼Œä¿è¯å¯†ç ä¸€è‡´æ€§å’Œå¯æ¢å¤æ€§
- æ”¯æŒå¤šä¸ªå¹³å°ï¼ŒåŒ…æ‹¬ Linuxã€macOSã€Windowsã€Androidã€iOS ç­‰
- æ”¯æŒå¤šç§æ’ä»¶ï¼Œæ‰©å±•åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒ

## å®‰è£…

### GPG å®‰è£…ä¸é…ç½®

åœ¨ä½¿ç”¨ Password Store ä¹‹å‰ï¼Œæ‚¨éœ€è¦å…ˆå®‰è£…å¹¶é…ç½® GPGã€‚ä»¥ä¸‹æ˜¯å¸¸è§å¹³å°ä¸Šçš„å®‰è£…æ–¹æ³•ï¼š

#### Linux

ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£… GPGï¼š

```shell
apt install gnupg  # Ubuntu/Debian
pacman -S gnupg    # Arch Linux
```

#### macOS

ä½¿ç”¨ Homebrew å®‰è£… GPGï¼š

```shell
brew install gnupg
```

#### Windows

åœ¨ Windows ä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Gpg4win å·¥å…·åŒ…è¿›è¡Œå®‰è£…å’Œé…ç½®ã€‚è¯·è®¿é—® [Gpg4win å®˜æ–¹ç½‘ç«™](https://gpg4win.org/) è·å–è¯¦ç»†æŒ‡å—ã€‚

### Password Store å®‰è£…

å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®‰è£… Password Storeã€‚ä»¥ä¸‹æ˜¯å¸¸è§å¹³å°ä¸Šçš„å®‰è£…æ–¹æ³•ï¼š

#### Linux

ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£… passï¼š

```shell
apt install pass  # Ubuntu/Debian
pacman -S pass    # Arch Linux
```

#### macOS

ä½¿ç”¨ Homebrew å®‰è£… passï¼š

```shell
brew install pass
```

#### Windows

ä½¿ç”¨ Chocolatey å®‰è£… passï¼š

```shell
choco install pass
```

#### Android

ä» Google Play å•†åº—å®‰è£… Password Store åº”ç”¨ã€‚

#### iOS

ä» App Store å®‰è£… Pass for iOS åº”ç”¨ã€‚

æ›´å¤šå®‰è£…æ–¹æ³•å’Œè¯¦ç»†æ–‡æ¡£ï¼Œè¯·è®¿é—® [å®˜æ–¹ç½‘ç«™](https://www.passwordstore.org/#download)ã€‚

## GPG å¯†é’¥ç”Ÿæˆ

åœ¨ä½¿ç”¨ Password Store ä¹‹å‰ï¼Œæ‚¨éœ€è¦ç”Ÿæˆä¸€ä¸ª GPG å¯†é’¥å¯¹ã€‚å¯†é’¥å¯¹ç”±å…¬é’¥å’Œç§é’¥ç»„æˆï¼Œå…¬é’¥ç”¨äºåŠ å¯†å¯†ç å¹¶åˆ†äº«ç»™ä»–äººï¼Œç§é’¥ç”¨äºè§£å¯†å¯†ç å’Œç­¾åã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ GPG å¯†é’¥å¯¹ï¼š

```shell
gpg --full-generate-key
```

æŒ‰ç…§æç¤ºé€‰æ‹©å¯†é’¥ç±»å‹ã€å¯†é’¥é•¿åº¦ã€å¯†é’¥è¿‡æœŸæ—¶é—´ã€çœŸå®å§“åå’Œç”µå­é‚®ä»¶åœ°å€ç­‰é€‰é¡¹ã€‚ç”Ÿæˆå¯†é’¥åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ‚¨çš„å…¬é’¥å’Œç§é’¥ï¼š

```shell
gpg --list-keys
gpg --list-secret-keys
```

## GPG å¯†é’¥å¯¼å‡º

å¦‚æœæ‚¨å¸Œæœ›åœ¨å…¶ä»–è®¾å¤‡ä¸Šä½¿ç”¨ç›¸åŒçš„ GPG å¯†é’¥å¯¹ï¼Œæ‚¨éœ€è¦å°†å¯†é’¥å¯¼å‡ºå¹¶å¯¼å…¥åˆ°ç›®æ ‡è®¾å¤‡ä¸Šã€‚

å¯¼å‡ºå…¬é’¥ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
gpg --export -a "Your Name" > public.key
```

å°†å…¬é’¥ä¿å­˜åˆ°åä¸º `public.key` çš„æ–‡ä»¶ä¸­ã€‚

å¯¼å‡ºç§é’¥ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
gpg --export-secret-keys -a "Your Name" > private.key
```

å°†ç§é’¥ä¿å­˜åˆ°åä¸º `private.key` çš„æ–‡ä»¶ä¸­ã€‚

åœ¨ç›®æ ‡è®¾å¤‡ä¸Šï¼Œå¯¼å…¥å…¬é’¥å’Œç§é’¥ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
gpg --import public.key
gpg --import private.key
```

å¯¼å…¥åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `gpg --list-keys` å’Œ `gpg --list-secret-keys` å‘½ä»¤ç¡®è®¤å¯¼å…¥æ˜¯å¦æˆåŠŸã€‚

è¯·æ³¨æ„ï¼Œå¯†é’¥æ˜¯éå¸¸æ•æ„Ÿçš„ä¿¡æ¯ï¼Œè¯·å¦¥å–„ä¿ç®¡æ‚¨çš„ç§é’¥ï¼Œå¹¶ä¸”å»ºè®®å°†å…¶åŠ å¯†å¤‡ä»½åˆ°å®‰å…¨çš„ä½ç½®ã€‚

## ä½¿ç”¨

è¦å¼€å§‹ä½¿ç”¨ Password Storeï¼Œæ‚¨éœ€è¦å…ˆåˆå§‹åŒ–å¯†ç å­˜å‚¨åº“ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
pass init "Your GPG Key ID"
```

è¿™å°†åˆ›å»ºä¸€ä¸ªåä¸º `.password-store` çš„ç›®å½•ï¼Œç”¨äºå­˜å‚¨å¯†ç æ–‡ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯ GPG åŠ å¯†çš„æ–‡æœ¬ï¼ŒåŒ…å«å¯†ç å’Œå¯é€‰çš„å…ƒæ•°æ®ï¼ˆå¦‚ç”¨æˆ·åã€ç½‘å€ç­‰ï¼‰ã€‚

ä½¿ç”¨ pass å‘½ä»¤ç®¡ç†å¯†ç æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š

- `pass ls`ï¼šåˆ—å‡ºæ‰€æœ‰å¯†ç æ–‡ä»¶
- `pass insert foo/bar`ï¼šæ’å…¥åä¸º foo/bar çš„å¯†ç æ–‡ä»¶
- `pass show foo/bar`ï¼šæ˜¾ç¤º foo/bar çš„å¯†ç æ–‡ä»¶å†…å®¹
- `pass edit foo/bar`ï¼šç¼–è¾‘ foo/bar çš„å¯†ç æ–‡ä»¶å†…å®¹
- `pass generate foo/bar 16`ï¼šç”Ÿæˆä¸€ä¸ª 16 ä½éšæœºå¯†ç ï¼Œå¹¶ä¿å­˜åˆ° foo/bar çš„å¯†ç æ–‡ä»¶
- `pass rm foo/bar`ï¼šåˆ é™¤ foo/bar çš„å¯†ç æ–‡ä»¶
- `pass mv foo/bar foo/baz`ï¼šå°† foo/bar é‡å‘½åä¸º foo/baz
- `pass cp foo/bar foo/qux`ï¼šå°† foo/bar å¤åˆ¶ä¸º foo/qux
- `pass grep foo`ï¼šæœç´¢åŒ…å« foo çš„å¯†ç æ–‡ä»¶

æ›´å¤šå‘½ä»¤å’Œé€‰é¡¹ï¼Œè¯·ä½¿ç”¨ `pass --help` æŸ¥çœ‹æˆ–è®¿é—® [å®˜æ–¹ç½‘ç«™](https://www.passwordstore.org/#usage)ã€‚

## åŒæ­¥

Password Store ä½¿ç”¨ Git æ¥åŒæ­¥å¯†ç å­˜å‚¨åº“ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ `pass git` å‘½ä»¤æ‰§è¡Œä»»ä½• Git å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š

- `pass git init`ï¼šåˆå§‹åŒ– Git ä»“åº“
- `pass git remote add origin https://example.com/repo.git`ï¼šæ·»åŠ è¿œç¨‹ä»“åº“
- `pass git push -u origin master`ï¼šå°†å¯†ç å­˜å‚¨åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“
- `pass git pull`ï¼šä»è¿œç¨‹ä»“åº“æ‹‰å–æ›´æ–°åˆ°å¯†ç å­˜å‚¨åº“
- `pass git status`ï¼šæŸ¥çœ‹å¯†ç å­˜å‚¨åº“çš„çŠ¶æ€
- `pass git log`ï¼šæŸ¥çœ‹å¯†ç å­˜å‚¨åº“çš„å†å²è®°å½•

æ›´å¤š Git å‘½ä»¤å’Œç”¨æ³•ï¼Œè¯·ä½¿ç”¨ `pass git --help` æŸ¥çœ‹æˆ–è®¿é—® [Git å®˜æ–¹ç½‘ç«™](https://git-scm.com/doc)ã€‚

## æ’ä»¶

Password Store æ”¯æŒå¤šç§æ’ä»¶ï¼Œæ‰©å±•åŠŸèƒ½å’Œç”¨æˆ·ä½“éªŒã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨æ’ä»¶çš„ç¤ºä¾‹ï¼š

- [pass-otp](https://github.com/tadfisher/pass-otp)ï¼šæ”¯æŒä¸€æ¬¡æ€§å¯†ç ï¼ˆOTPï¼‰çš„ç”Ÿæˆå’ŒéªŒè¯
- [pass-tomb](https://github.com/roddhjav/pass-tomb)ï¼šæ”¯æŒä½¿ç”¨ Tomb åˆ›å»ºéšè—çš„å¯†ç å­˜å‚¨åº“
- [pass-audit](https://github.com/j6k4m8/pass-audit)ï¼šæ”¯æŒå¯¹å¯†ç å­˜å‚¨åº“è¿›è¡Œå®‰å…¨æ€§å’Œå¤æ‚æ€§çš„æ£€æŸ¥
- [pass-update](https://github.com/roddhjav/pass-update)ï¼šæ”¯æŒæ‰¹é‡æ›´æ–°å¯†ç å­˜å‚¨åº“ä¸­çš„å¯†ç 
- [pass-import](https://github.com/roddhjav/pass-import)ï¼šæ”¯æŒä»å…¶ä»–å¯†ç ç®¡ç†å™¨å¯¼å…¥å¯†ç åˆ°å¯†ç å­˜å‚¨åº“

æ›´å¤šæ’ä»¶å’Œåˆ—è¡¨ï¼Œè¯·è®¿é—®[å®˜æ–¹ç½‘ç«™](https://www.passwordstore.org/#extensions)ã€‚

## ç»“è¯­

Password Store æ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„å¯†ç ç®¡ç†å™¨ï¼Œå®ƒä½¿ç”¨ GPG åŠ å¯†å’Œ Git åŒæ­¥æ¥å­˜å‚¨å’Œç®¡ç†å¯†ç ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç®€å•ã€å®‰å…¨ã€ä¸€è‡´ã€å¤šå¹³å°å’Œå¯æ‰©å±•ã€‚å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ–¹ä¾¿ä¸”å®‰å…¨çš„å¯†ç ç®¡ç†å™¨ï¼Œä¸å¦¨å°è¯•ä½¿ç”¨ Password Storeã€‚ğŸ˜Š

äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®[å®˜æ–¹ç½‘ç«™](https://www.passwordstore.org/)ã€‚

å‚è€ƒèµ„æ–™ï¼š
- [Password Store å®˜æ–¹ç½‘ç«™](https://www.passwordstore.org/)
- [GPG å®˜æ–¹ç½‘ç«™](https://gnupg.org/)
